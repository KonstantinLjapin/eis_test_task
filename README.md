### Требования
- linux(Ubuntu)
- docker compose
- python3.11
### Быстрый старт
- git clone {repositories} / колонируем репозиторий
- pip install --upgrade pip / для отладки
- pip install pip install -r requirements.txt / для отладки
- .env.dist -> .env / правим переменные окружения
- sudo ./start_test.sh / запуск
### Описание задачи

#### 1.
Реализовать модели данных «Дом», «Квартира», «Счётчик воды», «Тариф», учитывая связи между ними.
В доме может быть много квартир.
В квартире может быть несколько счётчиков.
У квартиры должна быть площадь (будет нужно для расчёта платы за содержание общего имущества).
Для счётчика нужно хранить показания за несколько прошедших месяцев.
Тариф — это цена услуги или ресурса (например, цена за единицу объёма воды),
используется для расчёта платы за коммунальные услуги.

#### 2.
Реализовать API для ввода и вывода данных по дому 
(например, адрес дома, список квартир и т. п., должны выводиться данные из нескольких моделей).

#### 3.
Реализовать функцию расчёта квартплаты для всех квартир в доме за какой-либо месяц.
Результаты записывать в БД.
Функция должна сохранять прогресс расчёта.
Квартплата включает в себя:
● Водоснабжение.
 Рассчитывается по расходу воды за месяц(тариф_за_единицу_объёма × расход).
 Расход — это разница между показаниями счётчика за текущий и за предыдущий месяц.
● Содержание общего имущества. 
 Рассчитывается на основе площади квартиры(тариф_за_единицу_площади × площадь_квартиры).

#### 4.
Реализовать API, которое запускает процесс расчёта квартплаты в фоновом режиме (например в celery),
и затем позволяет получить прогресс расчёта.

#### Стек технологий:
На усмотрение кандидата.
Рекомендуется использовать 
- fastapi, celery, mongodb
или
- django, celery, postgresql.
Проект выложить на github.

### Описание реализации
- fastapi, celery, redis, postgresql, docker, plantUML
Для планирования моделей и их связей использовались UML диограммы, эндпоинты соответствуют ТЗ ,
отдельно выведен ендпоинт с загрузкой показаний с каждого счётчика (имеется современная тенденция автоматизации
загрузок показаний с счётчиков через сеть). Эндпоинт с загрузкой данных учитывает состояние счтёта клиента.
реализован эндпоинт для отображения всех доступных данных.
Возможно добавить автоматическое тестирование с помощью pytest обработав негативные кейсы, добавить личный кабинет.


### Эндпоинты
-http://0.0.0.0:8000/enter_houses_data - первичная загрузка в модели
-http://0.0.0.0:8000/enter_readings_data - загрузка показаний с счётчиков
-http://0.0.0.0:8000/start_calculator - процесс расчёта квартплаты в фоновом режиме
-http://0.0.0.0:8000/out_houses_data - выгрузка всех данных по всем моделям
-http://0.0.0.0:8000/docs - OpenAPI документация

### Тестирование
eis.postman_collection.json - набор для postman, не рассматриваются негативные кейсы

- http://0.0.0.0:8000/enter_houses_data для загрузки фикстур использовать 
- http://0.0.0.0:8000/out_houses_data контроль результата
- http://0.0.0.0:8000/enter_readings_data загрузка показаний каждого счётчика
- http://0.0.0.0:8000/out_houses_data контроль результата
- http://0.0.0.0:8000/start_calculator запуск задачи celery
- http://0.0.0.0:8000/out_houses_data контроль результата